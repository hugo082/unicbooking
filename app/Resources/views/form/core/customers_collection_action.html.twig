
<br>
<a id="customers_action_add" class="btn btn-success" data-target="{{ id }}">Add</a>
<style>
    .customers-container > * {
        width: 10% !important;
        margin: 10px;
    }
</style>

<script>
    $(document).ready(function() {
        $(document).on('click', '#customers_action_add[data-target]', function(event) {
            var collectionHolder = $('#' + $(this).attr('data-target'));

            if (!collectionHolder.attr('data-counter')) {
                collectionHolder.attr('data-counter', collectionHolder.children().length);
            }

            var prototype = collectionHolder.attr('data-prototype');
            var form = prototype.replace(/__name_cust__/g, collectionHolder.attr('data-counter'));

            collectionHolder.attr('data-counter', Number(collectionHolder.attr('data-counter')) + 1);
            collectionHolder.append(form);
            
            event && event.preventDefault();
        });
    });
</script>
