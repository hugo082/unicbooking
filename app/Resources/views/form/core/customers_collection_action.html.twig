
<br>
<a id="{{ id }}_cust_add" class="btn btn-success" data-target="{{ id }}">Add</a>
<style>
    .customers-container > * {
        width: 10% !important;
        margin: 10px;
    }
</style>

<script>
    $(document).ready(function() {
        $(document).on('click', '#{{ id }}_cust_add[data-target]', function(event) {
            var collectionHolder = $('#' + $(this).attr('data-target'));

            if (!collectionHolder.attr('data-counter')) {
                collectionHolder.attr('data-counter', collectionHolder.children().length);
            }

            var prototype = collectionHolder.attr('data-prototype');
            var form = prototype.replace(/__name__/g, collectionHolder.attr('data-counter'));

            collectionHolder.attr('data-counter', Number(collectionHolder.attr('data-counter')) + 1);
            collectionHolder.append(form);

            event && event.preventDefault();
        });

        $(document).on('click', '#{{ id }}_cust_remove[data-related]', function(event) {
            var name = $(this).attr('data-related');
            $('*[data-content="'+name+'"]').remove();
            console.error("hllo");
            event && event.preventDefault();
        });
    });
</script>
